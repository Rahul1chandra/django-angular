{% load static %}
<html>
    <head>
            <script src='{% static "js/angular.min.js" %}'></script>
            <script src='{% static "js/angular-route.min.js" %}'></script>
            <!-- <script src='{% static "js/jquery.min.js" %}'></script> -->
            <script src='{% static "js/qppjs/ctrl.js" %}'></script>
            <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        
            <link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}">
            <script src='{% static "js/jquery-1.12.4.js" %}'></script>
            <script src='{% static "js/jquery-ui.js" %}'></script>

        </head>
    <body ng-app="mytodoApp">
        <div ng-controller ="mytodoCtrl">
                <h1 align="center">Welcome !!!</h1>
                <label >Title:</label>
                <input type="text"  ng-model="title" />
                
                <label> Description </label>
                <input type="text" ng-model="descriptions">

                <label>completions_date</label>
                <input type="text"  id="datepicker" ng-model="completion_date" >
             
                <label>status</label> 
                <select ng-model="status" ng-options="x for x in status_list">
                </select>
       
                <input type="hidden" ng-model="edit_pk">
                <button id="save_update" class="btn btn-info" ng-click="save()"> SAVE </button>
                <button class="btn btn-warning" ng-click="clear()"> Clear </button>
            
            <div class="container">
                    <h2 align="center">My todo list</h2>
                        
                                
                    <table class="table">
                            <thead class="thead-dark">
                            <tr>
                                <th scope="col">Sr.no</th>
                                <th scope="col">title</th>
                                <th scope="col">Descriptions</th>
                                <th scope="col">created_at</th>
                                <th scope="col">updated_at</th>
                                <th scope="col">completion_date</th>
                                <th scope="col">status</th>
                                <th class="col-md-4">action</th>
            
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="record in todo_record_list">
                                <td scope="row">[[$index +1]]</td>
                                <td ng-model="data[[record.pk]].title">[[record.title]] </td>
                                <td ng-model="data[[record.pk]].descriptions">[[record.Descriptions]]</td>
                                <td ng-model="data[[record.pk]].created_at">[[record.created_at]]</td>
                                <td ng-model="data[[record.pk]].updated_at">[[record.updated_at]]</td>
                                <td ng-model="data[[record.pk]].completion_date">[[record.completion_date]]</td>
                                <td ng-model="data[[record.pk]].status">[[record.status]]</td>
                                <td>
                                   <span> <button class="btn btn-primary" ng-click="edit_record([[record.pk]], [[record.title]], [[record.Descriptions]], [[record.completion_date]], [[record.status]] )">edit </button>
                                    <button class="btn btn-danger" ng-click="delete_record(record.pk)">delete </button>
                                </span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                  </div>
               


        </div>


    </body>
    <script>
            $( function() {
              $( "#datepicker" ).datepicker({dateFormat: "yy-mm-dd"});
              
            } );
            </script>
</html>